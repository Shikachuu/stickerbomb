apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: labelers.stickerbomb.dev
spec:
  group: stickerbomb.dev
  names:
    categories: []
    kind: Labeler
    plural: labelers
    shortNames:
    - doc
    singular: labeler
  scope: Cluster
  versions:
  - additionalPrinterColumns: []
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Auto-generated derived type for LabelerSpec via `CustomResource`
        properties:
          spec:
            description: Spec object for the `Labeler` CRD
            properties:
              labels:
                additionalProperties:
                  type: string
                description: List of labels to apply
                type: object
              rego_condition:
                description: Contains the labeling policy described in Rego
                nullable: true
                type: string
              resource_api:
                description: Describes the target api group of the target resource
                type: string
              resource_kind:
                description: Describes the target kind of the target resource
                type: string
            required:
            - labels
            - resource_api
            - resource_kind
            type: object
          status:
            description: State object for the `Labeler` CRD
            nullable: true
            properties:
              conditions:
                description: Standard Kubernetes conditions (Ready, Error, etc.)
                items:
                  description: Condition contains details for one aspect of the current state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition transitioned from one status to another. This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating details about the transition. This may be an empty string.
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation that the condition was set based upon. For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date with respect to the current state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating the reason for the condition's last transition. Producers of specific condition types may define expected values and meanings for this field, and whether the values are considered a guaranteed API. The value should be a CamelCase string. This field may not be empty.
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              error:
                description: Error message from last reconciliation attempt, if any
                nullable: true
                type: string
              last_reconcile_time:
                description: Timestamp of the last successful reconciliation
                format: date-time
                nullable: true
                type: string
              resources_labeled:
                description: Number of resources labeled in last reconciliation
                format: int32
                type: integer
              resources_matched:
                description: Number of resources that matched resource_kind
                format: int32
                type: integer
              resources_skipped:
                description: Number of resources failed the rego condition evaluation
                format: int32
                type: integer
            required:
            - conditions
            - resources_labeled
            - resources_matched
            - resources_skipped
            type: object
        required:
        - spec
        title: Labeler
        type: object
    served: true
    storage: true
    subresources:
      status: {}
